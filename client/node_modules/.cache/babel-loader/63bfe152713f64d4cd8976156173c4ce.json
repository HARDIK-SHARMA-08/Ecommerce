{"ast":null,"code":"var $8aPAr$react = require(\"react\");\nvar $8aPAr$reactstatelyoverlays = require(\"@react-stately/overlays\");\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n$parcel$export(module.exports, \"useTooltipTriggerState\", function () {\n  return $3391baedd777a697$export$4d40659c25ecb50b;\n});\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /*\n    * Copyright 2020 Adobe. All rights reserved.\n    * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License. You may obtain a copy\n    * of the License at http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software distributed under\n    * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n    * OF ANY KIND, either express or implied. See the License for the specific language\n    * governing permissions and limitations under the License.\n    */\n\nvar $3391baedd777a697$var$TOOLTIP_DELAY = 1500; // this seems to be a 1.5 second delay, check with design\nvar $3391baedd777a697$var$TOOLTIP_COOLDOWN = 500;\nvar $3391baedd777a697$var$tooltips = {};\nvar $3391baedd777a697$var$tooltipId = 0;\nvar $3391baedd777a697$var$globalWarmedUp = false;\nvar $3391baedd777a697$var$globalWarmUpTimeout = null;\nvar $3391baedd777a697$var$globalCooldownTimeout = null;\nfunction $3391baedd777a697$export$4d40659c25ecb50b() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$delay = props.delay,\n    delay = _props$delay === void 0 ? $3391baedd777a697$var$TOOLTIP_DELAY : _props$delay,\n    _props$closeDelay = props.closeDelay,\n    closeDelay = _props$closeDelay === void 0 ? $3391baedd777a697$var$TOOLTIP_COOLDOWN : _props$closeDelay;\n  var _ref = (0, $8aPAr$reactstatelyoverlays.useOverlayTriggerState)(props),\n    isOpen = _ref.isOpen,\n    open = _ref.open,\n    close = _ref.close;\n  var id = (0, $8aPAr$react.useMemo)(function () {\n    return \"\".concat(++$3391baedd777a697$var$tooltipId);\n  }, []);\n  var closeTimeout = (0, $8aPAr$react.useRef)();\n  var ensureTooltipEntry = function ensureTooltipEntry() {\n    $3391baedd777a697$var$tooltips[id] = hideTooltip;\n  };\n  var closeOpenTooltips = function closeOpenTooltips() {\n    for (var hideTooltipId in $3391baedd777a697$var$tooltips) if (hideTooltipId !== id) {\n      $3391baedd777a697$var$tooltips[hideTooltipId](true);\n      delete $3391baedd777a697$var$tooltips[hideTooltipId];\n    }\n  };\n  var showTooltip = function showTooltip() {\n    clearTimeout(closeTimeout.current);\n    closeTimeout.current = null;\n    closeOpenTooltips();\n    ensureTooltipEntry();\n    $3391baedd777a697$var$globalWarmedUp = true;\n    open();\n    if ($3391baedd777a697$var$globalWarmUpTimeout) {\n      clearTimeout($3391baedd777a697$var$globalWarmUpTimeout);\n      $3391baedd777a697$var$globalWarmUpTimeout = null;\n    }\n    if ($3391baedd777a697$var$globalCooldownTimeout) {\n      clearTimeout($3391baedd777a697$var$globalCooldownTimeout);\n      $3391baedd777a697$var$globalCooldownTimeout = null;\n    }\n  };\n  var hideTooltip = function hideTooltip(immediate) {\n    if (immediate || closeDelay <= 0) {\n      clearTimeout(closeTimeout.current);\n      closeTimeout.current = null;\n      close();\n    } else if (!closeTimeout.current) closeTimeout.current = setTimeout(function () {\n      closeTimeout.current = null;\n      close();\n    }, closeDelay);\n    if ($3391baedd777a697$var$globalWarmUpTimeout) {\n      clearTimeout($3391baedd777a697$var$globalWarmUpTimeout);\n      $3391baedd777a697$var$globalWarmUpTimeout = null;\n    }\n    if ($3391baedd777a697$var$globalWarmedUp) {\n      if ($3391baedd777a697$var$globalCooldownTimeout) clearTimeout($3391baedd777a697$var$globalCooldownTimeout);\n      $3391baedd777a697$var$globalCooldownTimeout = setTimeout(function () {\n        delete $3391baedd777a697$var$tooltips[id];\n        $3391baedd777a697$var$globalCooldownTimeout = null;\n        $3391baedd777a697$var$globalWarmedUp = false;\n      }, Math.max($3391baedd777a697$var$TOOLTIP_COOLDOWN, closeDelay));\n    }\n  };\n  var warmupTooltip = function warmupTooltip() {\n    closeOpenTooltips();\n    ensureTooltipEntry();\n    if (!isOpen && !$3391baedd777a697$var$globalWarmUpTimeout && !$3391baedd777a697$var$globalWarmedUp) $3391baedd777a697$var$globalWarmUpTimeout = setTimeout(function () {\n      $3391baedd777a697$var$globalWarmUpTimeout = null;\n      $3391baedd777a697$var$globalWarmedUp = true;\n      showTooltip();\n    }, delay);else if (!isOpen) showTooltip();\n  };\n  // eslint-disable-next-line arrow-body-style\n  (0, $8aPAr$react.useEffect)(function () {\n    return function () {\n      clearTimeout(closeTimeout.current);\n      var tooltip = $3391baedd777a697$var$tooltips[id];\n      if (tooltip) delete $3391baedd777a697$var$tooltips[id];\n    };\n  }, [id]);\n  return {\n    isOpen: isOpen,\n    open: function open(immediate) {\n      if (!immediate && delay > 0 && !closeTimeout.current) warmupTooltip();else showTooltip();\n    },\n    close: hideTooltip\n  };\n}","map":null,"metadata":{},"sourceType":"script"}